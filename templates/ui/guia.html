{% extends 'base.html' %}

{% block title %}Guia de Implementação - Pandia{% endblock %}
{% block page_title %}Guia de Implementação{% endblock %}

{% block content %}
<div style="max-width: 900px; margin: 0 auto;">
    <!-- Introdução -->
    <div class="card"
        style="margin-bottom: 2rem; background: linear-gradient(135deg, #e94560 0%, #d63652 100%); color: white;">
        <div style="display: flex; align-items: center; gap: 1.5rem;">
            <div
                style="width: 64px; height: 64px; background: rgba(255,255,255,0.2); border-radius: 16px; display: flex; align-items: center; justify-content: center; flex-shrink: 0;">
                <svg width="32" height="32" fill="none" stroke="white" stroke-width="2" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round"
                        d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
                </svg>
            </div>
            <div>
                <h2 style="font-size: 1.5rem; font-weight: 600; margin: 0 0 0.5rem 0;">Seja bem-vindo ao Pandia!</h2>
                <p style="margin: 0; opacity: 0.95;">Siga este guia passo a passo para configurar agentes de IA,
                    promoções, clientes e campanhas de WhatsApp.</p>
            </div>
        </div>
    </div>

    <!-- SEÇÃO ADMIN -->
    {% if user.is_superuser %}
    <div style="margin-bottom: 2rem;">
        <h2
            style="font-size: 1.5rem; font-weight: 700; color: var(--gray-900); margin-bottom: 1rem; display: flex; align-items: center; gap: 0.75rem;">
            <svg width="24" height="24" fill="none" stroke="#9333ea" stroke-width="2" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round"
                    d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" />
            </svg>
            Fluxo do Administrador
        </h2>

        <!-- Passo 1: Cadastrar Novo Cliente -->
        <div class="card" style="margin-bottom: 1.5rem;">
            <div style="display: flex; align-items: start; gap: 1rem;">
                <div
                    style="width: 40px; height: 40px; background: linear-gradient(135deg, #9333ea, #7c3aed); border-radius: 50%; display: flex; align-items: center; justify-content: center; flex-shrink: 0; color: white; font-weight: 700; font-size: 1.25rem;">
                    1
                </div>
                <div style="flex: 1;">
                    <h3 style="font-size: 1.25rem; font-weight: 600; margin: 0 0 1rem 0; color: var(--gray-900);">
                        Cadastrar Nova Padaria
                    </h3>
                    <p style="color: var(--gray-600); line-height: 1.6; margin-bottom: 1rem;">
                        Crie uma nova conta de padaria para o seu cliente com os dados de acesso.
                    </p>
                    <div style="background: var(--gray-50); padding: 1rem; border-radius: 8px; margin-bottom: 1rem;">
                        <p style="margin: 0 0 0.5rem 0; font-weight: 600; color: var(--gray-700);">Como fazer:</p>
                        <ol style="margin: 0; padding-left: 1.5rem; color: var(--gray-600); line-height: 1.8;">
                            <li>Acesse o <strong>Admin Panel</strong></li>
                            <li>Clique em <strong>"Nova Padaria"</strong></li>
                            <li>Preencha os dados da empresa (nome, CNPJ, telefone, endereço)</li>
                            <li>Preencha os dados do usuário dono (nome, email, senha)</li>
                            <li>Clique em <strong>"Criar"</strong></li>
                        </ol>
                    </div>
                    <div
                        style="background: #d1fae5; border-left: 4px solid #10b981; padding: 1rem; border-radius: 4px; margin-bottom: 1rem;">
                        <p style="margin: 0; color: #065f46;">
                            <strong> Automático:</strong> O sistema cria o usuário, a padaria, gera o slug único e cria
                            uma API Key inicial.
                        </p>
                    </div>
                    <a href="{% url 'admin_panel:padaria_create' %}" class="btn btn-primary"
                        style="display: inline-flex; align-items: center; gap: 0.5rem;">
                        <svg width="16" height="16" fill="none" stroke="currentColor" stroke-width="2"
                            viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M12 4v16m8-8H4" />
                        </svg>
                        Nova Padaria
                    </a>
                </div>
            </div>
        </div>

        <!-- Passo 2: Passar dados de acesso -->
        <div class="card" style="margin-bottom: 1.5rem;">
            <div style="display: flex; align-items: start; gap: 1rem;">
                <div
                    style="width: 40px; height: 40px; background: linear-gradient(135deg, #9333ea, #7c3aed); border-radius: 50%; display: flex; align-items: center; justify-content: center; flex-shrink: 0; color: white; font-weight: 700; font-size: 1.25rem;">
                    2
                </div>
                <div style="flex: 1;">
                    <h3 style="font-size: 1.25rem; font-weight: 600; margin: 0 0 1rem 0; color: var(--gray-900);">
                        Passar Dados de Acesso
                    </h3>
                    <p style="color: var(--gray-600); line-height: 1.6; margin-bottom: 1rem;">
                        Envie as credenciais de acesso para o dono da padaria.
                    </p>
                    <div
                        style="background: #fef3c7; border-left: 4px solid #f59e0b; padding: 1rem; border-radius: 4px;">
                        <p style="margin: 0; color: #92400e;">
                            <strong>Envie para o cliente:</strong><br>
                            <strong>Usuário:</strong> (gerado a partir do email)<br>
                            <strong>Senha:</strong> (senha definida)<br>
                            <strong>URL de Acesso:</strong> link do sistema
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Passo 3: Configurar Evolution -->
        <div class="card" style="margin-bottom: 1.5rem;">
            <div style="display: flex; align-items: start; gap: 1rem;">
                <div
                    style="width: 40px; height: 40px; background: linear-gradient(135deg, #9333ea, #7c3aed); border-radius: 50%; display: flex; align-items: center; justify-content: center; flex-shrink: 0; color: white; font-weight: 700; font-size: 1.25rem;">
                    3
                </div>
                <div style="flex: 1;">
                    <h3 style="font-size: 1.25rem; font-weight: 600; margin: 0 0 1rem 0; color: var(--gray-900);">
                        Configurar Evolution API e n8n
                    </h3>
                    <p style="color: var(--gray-600); line-height: 1.6; margin-bottom: 1rem;">
                        Configure a instância no Evolution e o workflow no n8n para o novo cliente.
                    </p>
                    <div style="background: var(--gray-50); padding: 1rem; border-radius: 8px;">
                        <p style="margin: 0 0 0.5rem 0; font-weight: 600; color: var(--gray-700);">Como fazer:</p>
                        <ol style="margin: 0; padding-left: 1.5rem; color: var(--gray-600); line-height: 1.8;">
                            <li>Acesse o painel do <strong>Evolution API</strong></li>
                            <li>Crie uma nova instância para a padaria</li>
                            <li>Configure o webhook para apontar para o n8n</li>
                            <li>No n8n, configure as credenciais e endpoints da API</li>
                        </ol>
                    </div>
                </div>
            </div>
        </div>
    </div>
    {% endif %}

    <!-- SEÇÃO DONO DA PADARIA -->
    <div style="margin-bottom: 2rem;">
        <h2
            style="font-size: 1.5rem; font-weight: 700; color: var(--gray-900); margin-bottom: 1rem; display: flex; align-items: center; gap: 0.75rem;">
            <svg width="24" height="24" fill="none" stroke="#10b981" stroke-width="2" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round"
                    d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4" />
            </svg>
            Fluxo do Dono da Padaria
        </h2>

        <!-- Passo 1: Criar Agente -->
        <div class="card" style="margin-bottom: 1.5rem;">
            <div style="display: flex; align-items: start; gap: 1rem;">
                <div
                    style="width: 40px; height: 40px; background: linear-gradient(135deg, #10b981, #059669); border-radius: 50%; display: flex; align-items: center; justify-content: center; flex-shrink: 0; color: white; font-weight: 700; font-size: 1.25rem;">
                    1
                </div>
                <div style="flex: 1;">
                    <h3 style="font-size: 1.25rem; font-weight: 600; margin: 0 0 1rem 0; color: var(--gray-900);">
                        Criar seu Agente de IA
                    </h3>
                    <p style="color: var(--gray-600); line-height: 1.6; margin-bottom: 1rem;">
                        Configure o agente que vai responder seus clientes no WhatsApp.
                    </p>
                    <div style="background: var(--gray-50); padding: 1rem; border-radius: 8px; margin-bottom: 1rem;">
                        <p style="margin: 0 0 0.5rem 0; font-weight: 600; color: var(--gray-700);">Como fazer:</p>
                        <ol style="margin: 0; padding-left: 1.5rem; color: var(--gray-600); line-height: 1.8;">
                            <li>Clique em <strong>"Agente"</strong> no menu lateral</li>
                            <li>Clique em <strong>"Criar Agente"</strong></li>
                            <li>Preencha os dados do agente:
                                <ul style="margin-top: 0.5rem;">
                                    <li><strong>Nome:</strong> como o agente se apresenta (ex: Maria)</li>
                                    <li><strong>Função:</strong> Atendente, Vendedor, Suporte, etc.</li>
                                    <li><strong>Tom de Voz:</strong> Amigável, Profissional, Casual, etc.</li>
                                    <li><strong>Saudação:</strong> mensagem de boas-vindas</li>
                                    <li><strong>Base de Conhecimento:</strong> produtos, preços, políticas</li>
                                    <li><strong>PDF (opcional):</strong> cardápio ou FAQ</li>
                                </ul>
                            </li>
                            <li>Clique em <strong>"Salvar"</strong></li>
                        </ol>
                    </div>
                    <div
                        style="background: #d1fae5; border-left: 4px solid #10b981; padding: 1rem; border-radius: 4px; margin-bottom: 1rem;">
                        <p style="margin: 0; color: #065f46;">
                            <strong> Automático:</strong> Ao salvar, sua API Key é gerada automaticamente! Copie e
                            guarde a chave que aparece na tela.
                        </p>
                    </div>
                    <a href="{% url 'agents:create' %}" class="btn btn-primary"
                        style="display: inline-flex; align-items: center; gap: 0.5rem;">
                        <svg width="16" height="16" fill="none" stroke="currentColor" stroke-width="2"
                            viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M13 10V3L4 14h7v7l9-11h-7z" />
                        </svg>
                        Criar Agente
                    </a>
                </div>
            </div>
        </div>

        <!-- Passo 2: Cadastrar Promoções -->
        <div class="card" style="margin-bottom: 1.5rem;">
            <div style="display: flex; align-items: start; gap: 1rem;">
                <div
                    style="width: 40px; height: 40px; background: linear-gradient(135deg, #f59e0b, #d97706); border-radius: 50%; display: flex; align-items: center; justify-content: center; flex-shrink: 0; color: white; font-weight: 700; font-size: 1.25rem;">
                    2
                </div>
                <div style="flex: 1;">
                    <h3 style="font-size: 1.25rem; font-weight: 600; margin: 0 0 1rem 0; color: var(--gray-900);">
                        Cadastrar Promoções
                    </h3>
                    <p style="color: var(--gray-600); line-height: 1.6; margin-bottom: 1rem;">
                        Crie promoções para divulgar aos seus clientes via WhatsApp.
                    </p>
                    <div style="background: var(--gray-50); padding: 1rem; border-radius: 8px; margin-bottom: 1rem;">
                        <p style="margin: 0 0 0.5rem 0; font-weight: 600; color: var(--gray-700);">Campos disponíveis:
                        </p>
                        <ul style="margin: 0; padding-left: 1.5rem; color: var(--gray-600); line-height: 1.8;">
                            <li><strong>Título:</strong> Nome da promoção</li>
                            <li><strong>Descrição:</strong> Detalhes da oferta</li>
                            <li><strong>Preço Promocional:</strong> Valor com desconto</li>
                            <li><strong>Preço Original:</strong> Valor original (para mostrar o desconto)</li>
                            <li><strong>Imagem:</strong> Foto do produto</li>
                            <li><strong>Data de Validade:</strong> Quando a promoção expira</li>
                        </ul>
                    </div>
                    <a href="{% url 'organizations:promocao_list' %}" class="btn btn-primary"
                        style="display: inline-flex; align-items: center; gap: 0.5rem; background: linear-gradient(135deg, #f59e0b, #d97706);">
                        <svg width="16" height="16" fill="none" stroke="currentColor" stroke-width="2"
                            viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round"
                                d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                        </svg>
                        Ver Promoções
                    </a>
                </div>
            </div>
        </div>

        <!-- Passo 3: Cadastrar Clientes -->
        <div class="card" style="margin-bottom: 1.5rem;">
            <div style="display: flex; align-items: start; gap: 1rem;">
                <div
                    style="width: 40px; height: 40px; background: linear-gradient(135deg, #8b5cf6, #7c3aed); border-radius: 50%; display: flex; align-items: center; justify-content: center; flex-shrink: 0; color: white; font-weight: 700; font-size: 1.25rem;">
                    3
                </div>
                <div style="flex: 1;">
                    <h3 style="font-size: 1.25rem; font-weight: 600; margin: 0 0 1rem 0; color: var(--gray-900);">
                        Cadastrar Clientes
                    </h3>
                    <p style="color: var(--gray-600); line-height: 1.6; margin-bottom: 1rem;">
                        Cadastre seus clientes para enviar promoções e campanhas via WhatsApp.
                    </p>
                    <div style="background: var(--gray-50); padding: 1rem; border-radius: 8px; margin-bottom: 1rem;">
                        <p style="margin: 0 0 0.5rem 0; font-weight: 600; color: var(--gray-700);">Como fazer:</p>
                        <ol style="margin: 0; padding-left: 1.5rem; color: var(--gray-600); line-height: 1.8;">
                            <li>Clique em <strong>"Clientes"</strong> no menu</li>
                            <li>Clique em <strong>"Novo Cliente"</strong></li>
                            <li>Preencha: Nome, Telefone/WhatsApp, E-mail (opcional)</li>
                            <li>Marque se o cliente <strong>aceita receber promoções</strong></li>
                            <li>Clique em <strong>"Salvar"</strong></li>
                        </ol>
                    </div>
                    <div
                        style="background: #dbeafe; border-left: 4px solid #3b82f6; padding: 1rem; border-radius: 4px; margin-bottom: 1rem;">
                        <p style="margin: 0; color: #1e40af;">
                            <strong> Dica:</strong> Você também pode importar clientes em massa via arquivo CSV!
                        </p>
                    </div>
                    <a href="{% url 'organizations:cliente_list' %}" class="btn btn-primary"
                        style="display: inline-flex; align-items: center; gap: 0.5rem; background: linear-gradient(135deg, #8b5cf6, #7c3aed);">
                        <svg width="16" height="16" fill="none" stroke="currentColor" stroke-width="2"
                            viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round"
                                d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z" />
                        </svg>
                        Ver Clientes
                    </a>
                </div>
            </div>
        </div>

        <!-- Passo 4: Criar Campanhas -->
        <div class="card" style="margin-bottom: 1.5rem;">
            <div style="display: flex; align-items: start; gap: 1rem;">
                <div
                    style="width: 40px; height: 40px; background: linear-gradient(135deg, #ec4899, #db2777); border-radius: 50%; display: flex; align-items: center; justify-content: center; flex-shrink: 0; color: white; font-weight: 700; font-size: 1.25rem;">
                    4
                </div>
                <div style="flex: 1;">
                    <h3 style="font-size: 1.25rem; font-weight: 600; margin: 0 0 1rem 0; color: var(--gray-900);">
                        Criar Campanhas de WhatsApp
                    </h3>
                    <p style="color: var(--gray-600); line-height: 1.6; margin-bottom: 1rem;">
                        Envie promoções para seus clientes via WhatsApp com delays inteligentes para evitar bloqueios.
                    </p>
                    <div style="background: var(--gray-50); padding: 1rem; border-radius: 8px; margin-bottom: 1rem;">
                        <p style="margin: 0 0 0.5rem 0; font-weight: 600; color: var(--gray-700);">Como funciona:</p>
                        <ol style="margin: 0; padding-left: 1.5rem; color: var(--gray-600); line-height: 1.8;">
                            <li>Clique em <strong>"Campanhas"</strong> no menu</li>
                            <li>Clique em <strong>"Nova Campanha"</strong></li>
                            <li>Selecione uma promoção (opcional) ou escreva a mensagem</li>
                            <li>Configure os delays entre mensagens:
                                <ul style="margin-top: 0.5rem;">
                                    <li><strong>Delay mínimo/máximo:</strong> tempo entre cada mensagem</li>
                                    <li><strong>Tamanho do lote:</strong> mensagens por grupo</li>
                                    <li><strong>Pausa entre lotes:</strong> descanso maior</li>
                                </ul>
                            </li>
                            <li>Clique em <strong>"Iniciar Campanha"</strong></li>
                        </ol>
                    </div>
                    <div
                        style="background: #fef3c7; border-left: 4px solid #f59e0b; padding: 1rem; border-radius: 4px; margin-bottom: 1rem;">
                        <p style="margin: 0; color: #92400e;">
                            <strong> Anti-ban:</strong> O sistema usa delays aleatórios entre mensagens para evitar que
                            seu número seja bloqueado pelo WhatsApp.
                        </p>
                    </div>
                    <a href="{% url 'organizations:campanha_list' %}" class="btn btn-primary"
                        style="display: inline-flex; align-items: center; gap: 0.5rem; background: linear-gradient(135deg, #ec4899, #db2777);">
                        <svg width="16" height="16" fill="none" stroke="currentColor" stroke-width="2"
                            viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round"
                                d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z" />
                        </svg>
                        Ver Campanhas
                    </a>
                </div>
            </div>
        </div>

        <!-- Passo 5: Conectar WhatsApp -->
        <div class="card" style="margin-bottom: 1.5rem;">
            <div style="display: flex; align-items: start; gap: 1rem;">
                <div
                    style="width: 40px; height: 40px; background: linear-gradient(135deg, #25d366, #128c7e); border-radius: 50%; display: flex; align-items: center; justify-content: center; flex-shrink: 0; color: white; font-weight: 700; font-size: 1.25rem;">
                    5
                </div>
                <div style="flex: 1;">
                    <h3 style="font-size: 1.25rem; font-weight: 600; margin: 0 0 1rem 0; color: var(--gray-900);">
                        Conectar Número do WhatsApp
                    </h3>
                    <p style="color: var(--gray-600); line-height: 1.6; margin-bottom: 1rem;">
                        Conecte seu número de WhatsApp Business para receber mensagens e enviar campanhas.
                    </p>
                    <div style="background: var(--gray-50); padding: 1rem; border-radius: 8px; margin-bottom: 1rem;">
                        <p style="margin: 0 0 0.5rem 0; font-weight: 600; color: var(--gray-700);">Como fazer:</p>
                        <ol style="margin: 0; padding-left: 1.5rem; color: var(--gray-600); line-height: 1.8;">
                            <li>Clique em <strong>"Padaria"</strong> no menu lateral</li>
                            <li>Clique na sua padaria</li>
                            <li>Clique em <strong>"Conectar WhatsApp"</strong></li>
                            <li>Clique em <strong>"Gerar QR Code"</strong></li>
                            <li>Abra o WhatsApp no seu celular</li>
                            <li>Vá em <strong>Configurações > Aparelhos Conectados</strong></li>
                            <li>Escaneie o QR Code</li>
                            <li>Aguarde a confirmação de conexão </li>
                        </ol>
                    </div>
                    <a href="{% url 'organizations:list' %}" class="btn btn-primary"
                        style="display: inline-flex; align-items: center; gap: 0.5rem; background: linear-gradient(135deg, #25d366, #128c7e);">
                        <svg width="16" height="16" fill="currentColor" viewBox="0 0 24 24">
                            <path
                                d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z" />
                        </svg>
                        Ir para Padaria
                    </a>
                </div>
            </div>
        </div>

        <!-- Passo 6: Salvar API Key -->
        <div class="card" style="margin-bottom: 1.5rem;">
            <div style="display: flex; align-items: start; gap: 1rem;">
                <div
                    style="width: 40px; height: 40px; background: linear-gradient(135deg, #3b82f6, #2563eb); border-radius: 50%; display: flex; align-items: center; justify-content: center; flex-shrink: 0; color: white; font-weight: 700; font-size: 1.25rem;">
                    6
                </div>
                <div style="flex: 1;">
                    <h3 style="font-size: 1.25rem; font-weight: 600; margin: 0 0 1rem 0; color: var(--gray-900);">
                        Salvar API Key no Supabase
                    </h3>
                    <p style="color: var(--gray-600); line-height: 1.6; margin-bottom: 1rem;">
                        A API Key gerada ao criar o agente deve ser salva no Supabase para integração com o n8n.
                    </p>
                    <div
                        style="background: #fee2e2; border-left: 4px solid #dc2626; padding: 1rem; border-radius: 4px;">
                        <p style="margin: 0; color: #991b1b;">
                            <strong> Importante:</strong> A API Key só é exibida uma vez! Copie e salve imediatamente
                            no Supabase para que o n8n possa buscar as configurações do agente.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Resumo de Funcionalidades -->
    <div class="card" style="margin-bottom: 2rem; background: var(--gray-50);">
        <h3 style="font-size: 1.25rem; font-weight: 600; margin: 0 0 1rem 0; color: var(--gray-900);">
            Resumo das Funcionalidades
        </h3>
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem;">
            <div style="background: white; padding: 1rem; border-radius: 8px; border: 1px solid var(--gray-200);">
                <strong style="color: #10b981;"> Agentes de IA</strong>
                <p style="margin: 0.5rem 0 0 0; font-size: 0.875rem; color: var(--gray-600);">Crie agentes
                    personalizados com nome, tom de voz e base de conhecimento.</p>
            </div>
            <div style="background: white; padding: 1rem; border-radius: 8px; border: 1px solid var(--gray-200);">
                <strong style="color: #f59e0b;"> Promoções</strong>
                <p style="margin: 0.5rem 0 0 0; font-size: 0.875rem; color: var(--gray-600);">Cadastre ofertas com
                    preço, imagem e validade.</p>
            </div>
            <div style="background: white; padding: 1rem; border-radius: 8px; border: 1px solid var(--gray-200);">
                <strong style="color: #8b5cf6;"> Clientes</strong>
                <p style="margin: 0.5rem 0 0 0; font-size: 0.875rem; color: var(--gray-600);">Cadastre clientes e
                    importe em massa via CSV.</p>
            </div>
            <div style="background: white; padding: 1rem; border-radius: 8px; border: 1px solid var(--gray-200);">
                <strong style="color: #ec4899;"> Campanhas</strong>
                <p style="margin: 0.5rem 0 0 0; font-size: 0.875rem; color: var(--gray-600);">Envie mensagens em massa
                    com delays anti-ban.</p>
            </div>
        </div>
    </div>

    <!-- Pronto! -->
    <div class="card"
        style="background: linear-gradient(135deg, #10b981 0%, #059669 100%); color: white; text-align: center;">
        <div
            style="width: 64px; height: 64px; background: rgba(255,255,255,0.2); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 1rem;">
            <svg width="32" height="32" fill="none" stroke="white" stroke-width="3" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7" />
            </svg>
        </div>
        <h2 style="font-size: 1.5rem; font-weight: 600; margin: 0 0 0.5rem 0;">Pronto!</h2>
        <p style="margin: 0 0 1.5rem 0; opacity: 0.95;">
            Seu sistema está configurado. Crie agentes, promoções, cadastre clientes e envie campanhas!
        </p>
        <a href="{% url 'ui:dashboard' %}" class="btn" style="background: white; color: #059669; font-weight: 600;">
            Voltar ao Dashboard
        </a>
    </div>
</div>
{% endblock %}